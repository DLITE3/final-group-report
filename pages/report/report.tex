% 目次の挿入
\tableofcontents
\newpage

% ヘッダーカスタマイズ
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{DLITE3：Technology that supports people's lives without boundaries}
\renewcommand{\headrulewidth}{0pt}
\makeatletter
\let\ps@plain\ps@fancy
\makeatother
% ヘッダーの下に空白を追加
\setlength{\headsep}{20pt}

\chapter{はじめに}
私たちは、普段日常生活で木々の揺らぐ音や、空の色など様々な自然に触れる機会があり、無意識のうちに自然を楽しんでいる。しかし、視覚や聴覚に障害を持つ人は自然の音を聞くことや景色を見ることが難しい。そのため、自然を最大限楽しむことができないと考えた。
\writer{伊丸岡朝陽}

\section{先行研究}
近年、障害者支援として、エンターテインメントの観点から支援する取り組みが広まりつつある。長谷(2023)\cite{SOUNDHUG}は、「SOUND HUG」（サウンドハグ）というデバイスを開発し、
このデバイスは⾳楽をマイクで拾い、リアルタイムに光や振動を変換させることにより、聴覚障害の方が視覚や触覚情報を受け取りながら、音楽鑑賞会やモータスポーツを楽しむことができると述べている。
この事例をもとに、自然を別の形式に変換させることで、視覚障害や聴覚障害を抱える方も自然を最大限楽しむことができるのではないかと考えた。
\writer{伊丸岡朝陽}

\section{研究動機}
私たちのグループでは、まず障害を抱えている人がどのような問題を抱えているのかを一部体感するために、フィールドワークから行った。
フィールドワークの内容は以下2つを室内、屋外で行った。
% フィールドワークの内容
\begin{enumerate}
  \item イヤフォンで耳を塞いだ状態で外部の音を完全に遮断し徘徊する。
  \begin{itemize}\item[－] 聴覚情報の遮断\end{itemize}
  \item 手で目を覆った状態で視覚情報を遮断し徘徊する。5分間目を瞑った状態で座る。
  \begin{itemize}\item[－] 視覚情報の遮断\end{itemize}
\end{enumerate}
その結果、以下のことに気付いた。
% フィールドワークの結果
\begin{itemize}
  % ===== 聴覚 =====
  \item 聴覚情報の遮断
  \begin{itemize}
    \item 室内
    \begin{itemize}
      \item 一緒に歩いている人の足音が聞こえないため、視界から外れたときに足音が聞こえなくてついてきているのか分からない。
      \item 曲がり角や階段の頂上付近で人が来ているのか足音から分からず、普段より警戒した。
      \item 自分のコツコツとした足音が聞こえず、歩いている感がない。
    \end{itemize}
    \item 屋外
    \begin{itemize}
      \item 風の音や風が吹くことによる音（葉っぱが揺らぐ音など）が聞こえず、涼しさや季節感を感じられにくかった。
      \item 芝生を歩いたが、コンクリートよりも歩いたときの感触が強いので、歩いているという感覚が強い。
      \item 道路を渡る時に車が来ているのか音での判別ができず若干危険。
    \end{itemize}
  \end{itemize}
  \newpage
  % ===== 視覚 =====
  \item 視覚情報の遮断
  \begin{itemize}
    \item 室内
    \begin{itemize}
      \item 会話をする中で説明をする際にジェスチャーが使えなくて不便。
      \item 音に集中するため音の聞こえ方がより立体的になる。
      \item 会話のとき、ジェスチャーが使えないので簡単な「上」や「下」を使って説明することがあった。
    \end{itemize}
    \item 屋外
    \begin{itemize}
      \item 花の色が見れない。
      \item 木々の揺れ方は音からある程度は伝わるがどの程度揺れいているのかのイメージがつかみにくい。
      \item 日が昇っているのか沈んでいるのか分からない。
    \end{itemize}
  \end{itemize}
\end{itemize}
これらの結果から、室内では視覚や聴覚の情報が遮断されることで、様々な危険が増えることが分かった。
また屋外では、危険が増えるだけでなく、日常的に触れている自然が感じられにくくなった。
これらを踏まえ、今回は屋外での問題に着目し、障がいの有無に関わらず、自然を楽しむことが出来るようにしたいと考えた。
\writer{伊丸岡朝陽}

\section{目的及び重要性}
本プロジェクトでは、視覚、聴覚の障害の有無に関わらず、自然を楽しむことのできる「自然エンタテインメントデバイス」を開発し、自然の新たな楽しみ方を実現する。
また、今年度以前も含め本プロジェクト学習では、多くの障害者支援デバイスの開発を行ってきている。
しかし、多くの開発されたデバイスは部分的には新規性があるものの、すでに近いデバイスやアプリ、サービスが存在しているものや、高価な機器を用いて開発されたさらに高機能なデバイスが存在しているものも少なくない。
そのため、本グループではブレインストーミングやフィールドワークから新たな価値を生み出すことのできるデバイスを目指した。
\writer{金子康一}

\chapter{関連研究}
\section{必要なスキル}
昨年度プロジェクト学習で使用されたスキル、技術は以下のようになっています。
\begin{itemize}
  \item M5Stack Core2
  \item unitv2 AIカメラ
  \item シリアル通信
  \item RetinaFace
  \item Object Recongnition
  \item V-Training
  \item UiFlow
  \item RaspberryPi 4
  \item OpenCV
  \item M5Stack 用 ToF 距離センサユニット
  \item M5Stack 用振動モータユニット
  \item M5Stack 用超音波測距ユニット
  \item 骨伝導イヤホン
\end{itemize}
\writer{金子康一}

\section{解決方法・手法}
視覚や聴覚に障害のある方が自然を体感できるための手法として、２つ挙げられる。
１つ目として視覚の障害を持つ方には、自然の景色をその景色から連想できる音楽に変換する。
２つ目は、聴覚の障害をもつ方には　自然の音を集音し、その音から連想できるビジュアルアートを生成する。
これら２つのの手法はどちらも障害の有無にかかわらず、自然の新たな楽しみ方としての価値を創造できる。
\writer{伊丸岡朝陽}

\chapter{本プロジェクト学習の目標}
\section{最終的な目標}
Rasberrypiを用いたカメラ型デバイスを開発し、画像と音の相互変換を行うことで、障害の有無に関わらず自然を楽しめるようにする。
具体的には、撮影した写真にあった曲を再生する機能と、録音した環境音にあったビジュアルアートを生成する。
それにより、自然の楽しみに新たな価値を生み出す。 
\writer{金子康一}

\chapter{目的を達成するための手法・手段}
\section{考案したアイデア}
\subsection{風景を音楽に変換する}
風景の写真をもとにAIが写真に合った曲を選曲し、Spotifyで曲を再生する。
このように風景を音楽に変換することで、視覚障害者でも音で風景を楽しむことを実現する。
\writer{金子康一}

\subsection{環境音をビジュアルアートに変換する}
録音した環境音をもとにAIがビジュアルアートを生成する。
このように環境音をビジュアルアートに変換することで、聴覚障害者でもビジュアルアートで環境音を楽しむことを実現する。
\writer{金子康一}

\section{新しい解決方法・手法}
\subsection{風景を音楽に変換する}
風景を音楽に変換するために、以下の二つの処理を行う。
\begin{enumerate}
  \item 画像に合った選曲を行う
  \item Spotifyに曲が存在するかを調べ再生する
\end{enumerate}
これらの機能を実現するために、図\ref{fig:image-to-select-music}、図\ref{fig:music-play}の技術構成で実装した。
\begin{figure}[h]
  \centering
  \includegraphics[width=0.8\textwidth]{pages/report/images/opeai-api.png}
  \caption{選曲機能の技術構成}
  \label{fig:image-to-select-music}
\end{figure}
\begin{figure}[h]
  \centering
  \includegraphics[width=0.8\textwidth]{pages/report/images/music-play.png}
  \caption{曲再生の技術構成}
  \label{fig:music-play}
\end{figure}
PythonとAPIの間にCloudflare WorkersでデプロイをしているHonoで作成した自作APIを挟んだ。
その理由として、PythonでAPIを使用する場合に実装に誤りがあり大量のリクエストを送信してしまうと、APIの利用制限やクレジットの大量消費がおきてしまう可能性がある。
そのため、自作のAPIを挟むことで、短時間にリクエストが来た場合にはAPIの利用を制限し、利用制限やクレジットの大量消費を防ぐことができた。
\writer{金子康一}

\subsection{環境音をビジュアルアートに変換する}
環境音をビジュアルアートに変換するために、以下の二つの処理を行う。
\begin{enumerate}
  \item Pythonで環境音の解析を行う
  \item 解析結果から画像生成のためのプロンプトを生成する
  \item 画像を生成する
\end{enumerate}
これらの機能を実現するために、図\ref{fig:generate-prompt}、図\ref{fig:generate-image}の技術構成で実装した。
\begin{figure}[h]
  \centering
  \includegraphics[width=0.8\textwidth]{pages/report/images/opeai-api.png}
  \caption{プロンプト生成の技術構成}
  \label{fig:generate-prompt}
\end{figure}
\begin{figure}[h]
  \centering
  \includegraphics[width=0.8\textwidth]{pages/report/images/generate-image.png}
  \caption{画像生成の技術構成}
  \label{fig:generate-image}
\end{figure}
PythonとAPIの間にCloudflare WorkersでデプロイをしているHonoで作成した自作APIを挟んだ。
その理由として、PythonでAPIを使用する場合に実装に誤りがあり大量のリクエストを送信してしまうと、APIの利用制限やクレジットの大量消費がおきてしまう可能性がある。
そのため、自作のAPIを挟むことで、短時間にリクエストが来た場合にはAPIの利用を制限し、利用制限やクレジットの大量消費を防ぐことができた。
\writer{金子康一}

\section{用いる技術}
これらの機能を実現するために、以下の技術、スキルを用いた。
\begin{itemize}
  \item プログラム言語・フレームワーク
  \begin{itemize}
    \item Python
    \item Cpp
    \item TypeScript
    \item Hono
  \end{itemize}
  \item API
  \begin{itemize}
    \item OpenAI API
    \item Spotify Web API
    \item StableDiffusion API
  \end{itemize}
  \item HTTPメソッド
  \begin{itemize}
    \item HTTP GET
    \item HTTP POST
  \end{itemize}
  \item RaspberryPi 4
  \begin{itemize}
    \item GPIO
    \item I2C
    \item SPI
    \item カメラ
  \end{itemize}
  \item 電子回路制作
  \begin{itemize}
    \item 電子回路設計
    \item はんだ付け
    \item 圧着
  \end{itemize}
  \item 本体制作
  \begin{itemize}
    \item Fusion360
    \item CO2レーザーカッター
  \end{itemize}
\end{itemize}
\writer{金子康一}

\chapter{結果}
\section{風景を音楽に変換}
試しに、風景を音楽に変換する機能を実行し、以下の風景を撮影した。
\begin{figure}[h]
  \centering
  \includegraphics[width=0.8\textwidth]{pages/report/images/picture.jpg}
  \caption{風景を音楽に変換する機能の結果}
  \label{fig:landscape-to-music}
\end{figure}
その結果、「The Blue Danube - Johann Strauss II」という曲が選曲された。
\writer{金子康一}

\section{環境音をビジュアルアートに変換}
未来大内の静かな場所で、話声を録音してみた。
その結果、StableDiffusionによって次のようなビジュアルアートが生成された。
\begin{figure}[h]
  \centering
  \includegraphics[width=0.8\textwidth]{pages/report/images/output_image.jpeg}
  \caption{環境音をビジュアルアートに変換する機能の結果}
  \label{fig:environmental-sound-to-visual-art}
\end{figure}
\writer{金子康一}

\chapter{考察}
\section{妥当性}
当初の目的であった、風景を音楽に変換する機能、環境音をビジュアルアートに変換する機能を実現することができた。
また、NT名古屋で、完成していた風景を音楽に変換する機能のみ出展した際も、多くの来場者の方に、写真から音楽を選曲することができるという新たなアイデアを面白いと言ってもらうことができ、新たな価値を生み出すという観点で妥当性があると言えるのではないだろうか。
\writer{金子康一}

\section{課題点}
風景を音楽に変換する機能、環境音をビジュアルアートに変換する機能を実現することができたが、以下の課題点があった。
どちらの機能でもOpenAI APIを活用しているが、それによりブラックボックス化されてしまい、なぜそのような選曲や画像生成が行われたのかの説明が付かず、説得力がないという課題があった。
また、環境音をビジュアルアートに変換する機能においては、ネットワークの速度によっては画像生成に時間がかかりすぎるという課題があった。
今後はこれらの課題を解決できるように取り組んでいきたい。
具体的な構想としては、OpenAI APIを活用する際に、選曲や画像生成の理由を説明する文章を生成し、それをユーザーに表示することで、説得力を持たせることが考えられる。
また、画像生成については、ローカルでの画像生成を検討し、実用的であった場合は、ローカルでの画像生成を行うことで、ネットワークの速度によって生成時間が長くなる問題を解消できると考えられる。
\writer{金子康一}

\section{本学との関連性}
本学では、2023年度からの情報表現基礎や情報処理演習Ⅱなどで、マイコン等を用いたハードウェアを開発する講義がいくつか存在している。
それらの講義で培ったハードウェアの知識を活かし、本プロジェクト学習でデバイスの開発に活用することができたと考える。
また、主に知能システムコースでは、ロボティクスの分野などハードウェアに関係する研究や科目も多く、今後の学習にも大きく関係すると考える。
\writer{金子康一}

\section{拡張性}
今回は視覚と聴覚の相互変換を行うデバイスを開発したが、視覚、聴覚以外の感覚の相互変換であったり、他の感覚を活用したデバイスを開発することでさらに新たな可能性や価値を生み出すことが出来ると考える。
また、課題点で上げた問題も解決できるように取り組むことで、より多くのユーザーに価値を提供することができると考える。
\writer{金子康一}

\section{今後の展望}
私たちのグループでは、自然の音や景色を変換させるというシステムを実現した。使用者の趣味趣向に合わせることができるようにデバイスのカスタマイズ性を実現したいと考えている。
また、今回プロジェクト学習で、実際に視覚や聴覚に障害を持つ方に使ってもらうという機会を設けることができなかった。そのため、視覚や聴覚に障害を持つ方に実際に使ってもらい、フィードバックをもらいたい。
これらを実現することで、自然に新たな価値を見出し、障害の有無にかかわらず、自然を楽しめるようにしたい。  
\writer{伊丸岡朝陽}

\newpage\clearpage
\vspace*{-20pt}
\addcontentsline{toc}{chapter}{参考文献}  % 目次に「参考文献」を追加
\printbibliography[segment=\therefsegment,heading=subbibliography]
